{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Modal/Modal.module.css","Components/Button/Button.module.css","Components/Loader/Loader.module.css","Components/Searchbar/Searchbar.module.css","Components/Searchbar/Searchbar.jsx","utilits/KEY_pixabay.js","Components/ImageGalleryItem/ImageGalleryItem.jsx","Components/Button/Button.jsx","Components/Loader/Loader.jsx","Components/ImageGallery/ImageGallery.jsx","Components/Modal/Modal.jsx","App.js","index.js","App.module.css"],"names":["module","exports","Searchbar","onSubmit","useState","value","setValue","className","s","SearchForm","e","preventDefault","trim","toast","type","SearchForm_button","SearchForm_buttonLabel","SearchForm_input","autoComplete","autoFocus","placeholder","onChange","currentTarget","position","toastOptions","duration","style","background","color","success","theme","primary","secondary","API_KEY","URL","ImageGalleryItem","gallery","modalImageData","hendleClickImage","target","parentNode","getAttribute","map","id","webformatURL","tags","largeImageURL","onClick","srcmodal","src","alt","loading","ImageGalleryItemImage","Button","page","onLoadMore","search","SpinnerLoader","spinnerLoader","height","width","ImageGallery","modalImage","setGallery","setPage","setLoading","error","setError","loadMoreButton","length","useEffect","fetch","then","response","ok","Error","status","json","photo","data","hits","catch","finally","g","window","scrollTo","top","document","documentElement","scrollHeight","behavior","mesageError","imageSrc","pageMore","modalRoot","querySelector","Modal","onClose","children","hendelKeyDown","console","log","code","addEventListener","removeEventListener","createPortal","Overlay","App","searchValue","setSearchValue","showModal","setShowModal","srsModalImage","setSrsModalImage","closeModal","searchData","dataImage","closeBtn","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7a9b242a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3rEeD\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2sAoH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2JaoP\",\"mesageError\":\"ImageGallery_mesageError__22SQ0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1gfRK\",\"Modal\":\"Modal_Modal__muzzg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__8DKgw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinnerLoader\":\"Loader_spinnerLoader__QANlg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__13nVG\",\"SearchForm\":\"Searchbar_SearchForm__1yEIz\",\"SearchForm_button\":\"Searchbar_SearchForm_button__3ihnT\",\"SearchForm_buttonLabel\":\"Searchbar_SearchForm_buttonLabel__2NBQt\",\"SearchForm_input\":\"Searchbar_SearchForm_input__nPeJ4\",\"SearchForm-input\":\"Searchbar_SearchForm-input__1LGes\"};","import React, { useState } from 'react';\r\nimport toast, { Toaster } from 'react-hot-toast';\r\n\r\nimport s from './Searchbar.module.css';\r\n\r\nexport function Searchbar({ onSubmit }) {\r\n  const [value, setValue] = useState('');\r\n\r\n  const hendleChange = e => {\r\n    const value = e.currentTarget.value;\r\n    setValue(value);\r\n  };\r\n\r\n  const hendleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    if (value.trim() === '') {\r\n      toast('Please, enter photo title.');\r\n      return;\r\n    }\r\n    onSubmit(value);\r\n    //   setValue({ value: '' });\r\n  };\r\n\r\n  return (\r\n    <header className={s.Searchbar}>\r\n      <form className={s.SearchForm} onSubmit={hendleSubmit}>\r\n        <button type=\"submit\" className={s.SearchForm_button}>\r\n          <span className={s.SearchForm_buttonLabel}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={s.SearchForm_input}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          value={value}\r\n          onChange={hendleChange}\r\n        />\r\n      </form>\r\n      <Toaster\r\n        position=\"top-right\"\r\n        toastOptions={{\r\n          duration: 3000,\r\n          style: {\r\n            background: '#363636',\r\n            color: '#fff',\r\n          },\r\n          success: {\r\n            duration: 3000,\r\n            theme: {\r\n              primary: 'green',\r\n              secondary: 'black',\r\n            },\r\n          },\r\n        }}\r\n      />\r\n    </header>\r\n  );\r\n}\r\n","const API_KEY = '22518811-75a4d59ad2b4028ec2f8190e0';\r\n\r\nconst URL = 'https://pixabay.com/api/';\r\n\r\nexport { API_KEY };\r\nexport { URL };\r\n","import React from 'react';\r\n\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nexport function ImageGalleryItem({ gallery, modalImageData }) {\r\n  const hendleClickImage = e => {\r\n    modalImageData(e.target.parentNode.getAttribute('srcmodal'));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {gallery.map(({ id, webformatURL, tags, largeImageURL }) => (\r\n        <li\r\n          key={id}\r\n          className={s.ImageGalleryItem}\r\n          onClick={hendleClickImage}\r\n          srcmodal={largeImageURL}\r\n        >\r\n          <img\r\n            id={id}\r\n            src={webformatURL}\r\n            alt={tags}\r\n            loading=\"lazy\"\r\n            className={s.ImageGalleryItemImage}\r\n          />\r\n        </li>\r\n      ))}\r\n    </>\r\n  );\r\n}\r\n","import s from './Button.module.css';\r\n\r\nexport function Button({ page, onLoadMore, search }) {\r\n  const hendleClick = e => {\r\n    e.preventDefault();\r\n    onLoadMore(page + 1);\r\n  };\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      className={s.Button}\r\n      onClick={hendleClick}\r\n      // ref={ref => (this.myRef = ref)}\r\n    >\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n","import Loader from 'react-loader-spinner';\r\nimport s from './Loader.module.css';\r\n\r\nexport const SpinnerLoader = () => {\r\n  return (\r\n    <div className={s.spinnerLoader}>\r\n      <Loader type=\"ThreeDots\" color=\"#5a61bb\" height={100} width={100} />\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nimport { API_KEY, URL } from '../../utilits/KEY_pixabay';\r\nimport { ImageGalleryItem } from '../ImageGalleryItem/ImageGalleryItem';\r\nimport { Button } from '../Button/Button';\r\nimport { SpinnerLoader } from '../Loader/Loader';\r\nimport s from './ImageGallery.module.css';\r\n\r\nexport function ImageGallery({ search, modalImage }) {\r\n  const [gallery, setGallery] = useState([]);\r\n  const [page, setPage] = useState(1);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(false);\r\n\r\n  const loadMore = pageMore => {\r\n    setPage(pageMore);\r\n  };\r\n\r\n  const modalImageData = imageSrc => {\r\n    modalImage(imageSrc);\r\n  };\r\n\r\n  const clearGallery = () => {\r\n    setGallery([]);\r\n  };\r\n\r\n  const loadMoreButton = gallery.length > 0 && !loading;\r\n\r\n  useEffect(() => {\r\n    if (search !== '') {\r\n      clearGallery();\r\n      setLoading(true);\r\n      setPage(1);\r\n\r\n      return fetch(\r\n        `${URL}?q=${search}&page=1&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n      ).then(response => {\r\n        if (!response.ok) {\r\n          throw new Error(response.status);\r\n        }\r\n        response\r\n          .json()\r\n          .then(photo => {\r\n            const data = photo.hits;\r\n            if (data.length > 0) {\r\n              setGallery(data);\r\n              setError(false);\r\n            } else {\r\n              setError(true);\r\n            }\r\n          })\r\n          .catch(() => setError(true))\r\n          .finally(() => setLoading(false));\r\n      });\r\n    }\r\n  }, [search]);\r\n\r\n  useEffect(() => {\r\n    if (page > 1) {\r\n      setLoading(true);\r\n      return fetch(\r\n        `${URL}?q=${search}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n      ).then(response => {\r\n        if (!response.ok) {\r\n          throw new Error(response.status);\r\n        }\r\n        response\r\n          .json()\r\n          .then(photo => setGallery(g => [...g, ...photo.hits]))\r\n          .finally(() => setLoading(false));\r\n      });\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [page]);\r\n\r\n  useEffect(() => {\r\n    if (gallery.length > 0) {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: 'smooth',\r\n      });\r\n    }\r\n  }, [gallery]);\r\n\r\n  return (\r\n    <>\r\n      {error && (\r\n        <h1 className={s.mesageError}>\r\n          No results found for your request '{search}'!\r\n          <br />\r\n          Please search again.\r\n        </h1>\r\n      )}\r\n      {gallery.length > 0 && (\r\n        <ul className={s.ImageGallery}>\r\n          <ImageGalleryItem gallery={gallery} modalImageData={modalImageData} />\r\n        </ul>\r\n      )}\r\n      {loadMoreButton && <Button page={page} onLoadMore={loadMore} search={search} />}\r\n      {loading && <SpinnerLoader />}\r\n    </>\r\n  );\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { createPortal } from 'react-dom';\r\n\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport function Modal({ onClose, children }) {\r\n  const hendelBackdropClick = e => {\r\n    if (e.target === e.currentTarget) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const hendelKeyDown = e => {\r\n      console.log(e);\r\n      if (e.code === 'Escape') {\r\n        onClose();\r\n      }\r\n    };\r\n    window.addEventListener('keydown', hendelKeyDown);\r\n    return () => window.removeEventListener('keydown', hendelKeyDown);\r\n  });\r\n\r\n  return createPortal(\r\n    <div className={s.Overlay} onClick={hendelBackdropClick}>\r\n      <div className={s.Modal}>{children}</div>\r\n    </div>,\r\n    modalRoot,\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport { VscChromeClose } from 'react-icons/vsc';\r\n\r\nimport s from './App.module.css';\r\nimport { Searchbar } from './Components/Searchbar/Searchbar.jsx';\r\nimport { ImageGallery } from './Components/ImageGallery/ImageGallery.jsx';\r\nimport { Modal } from './Components/Modal/Modal.jsx';\r\n\r\nimport './App.css';\r\n\r\nexport function App() {\r\n  const [searchValue, setSearchValue] = useState('');\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [srsModalImage, setSrsModalImage] = useState('');\r\n\r\n  const formSubmit = searchData => {\r\n    setSearchValue(searchData);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setShowModal(false);\r\n  };\r\n\r\n  const modalImage = dataImage => {\r\n    setSrsModalImage(dataImage);\r\n    setShowModal(true);\r\n  };\r\n\r\n  return (\r\n    <div className={s.App}>\r\n      <Searchbar onSubmit={formSubmit} />\r\n      <main>\r\n        <ImageGallery search={searchValue} modalImage={modalImage} />\r\n      </main>\r\n      {showModal && (\r\n        <Modal onClose={closeModal}>\r\n          <img src={srsModalImage} alt=\"\" />\r\n          <button type=\"button\" className={s.closeBtn} onClick={closeModal}>\r\n            <VscChromeClose />\r\n          </button>\r\n        </Modal>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport { App } from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1huBN\",\"closeBtn\":\"App_closeBtn__M3LIm\",\"closeModal\":\"App_closeModal__3k2tB\"};"],"sourceRoot":""}